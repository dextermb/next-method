"use strict";module.exports={_CONTINUE:"__NM_CONTINUE",_handlers:{},_add:function _add(a,b){var c=this._handlers[a];return(Array.isArray(c)||(c=this._handlers[a]=[]),Array.isArray(b))?void(this._handlers[a]=[].concat(c,b)):(this._handlers[a].push(b),this)},_next:function _next(){return this._CONTINUE},use:function use(a){return this._add("*",a)},get:function get(a){return this._add("get",a)},post:function post(a){return this._add("post",a)},patch:function patch(a){return this._add("patch",a)},put:function put(a){return this._add("put",a)},delete:function _delete(a){return this._add("delete",a)},end:function end(){var a=this;return function(b,c){var d=b.method.toLowerCase();if(Array.isArray(a._handlers[d])){for(var e,f=a._handlers["*"],g=[].concat(f,a._handlers[d]),h=a._next.bind(a),j=0;j<g.length&&(e=g[j],"function"!=typeof e||e(b,c,h)===a._CONTINUE);j++);return}var k=Error("Missing handlers for '".concat(d,"' method"));throw k.method=d,k.req=b,k.res=c,k}}};